{"version":3,"sources":["webpack:///webpack/bootstrap b3feb6db7a06b4cdeb91","webpack:///./node_modules/@neos-project/neos-ui-extensibility/src/readFromConsumerApi.js","webpack:///./node_modules/@neos-project/neos-ui-extensibility/src/shims/vendor/ckeditor5-exports/index.js","webpack:///./node_modules/@neos-project/neos-ui-extensibility/src/shims/vendor/plow-js/index.js","webpack:///./src/index.js","webpack:///./src/manifest.js","webpack:///./node_modules/@neos-project/neos-ui-extensibility/src/index.js","webpack:///./node_modules/@neos-project/neos-ui-extensibility/src/createConsumerApi.js","webpack:///./node_modules/@neos-project/neos-ui-extensibility/package.json","webpack:///./node_modules/@neos-project/neos-ui-extensibility/src/manifest.js","webpack:///./src/linkEditorPlugin.js","webpack:///./src/linkAttributeCommand.js","webpack:///./src/_findLinkRange.js","webpack:///./src/_toMap.js","webpack:///./src/removeAttributeCommand.js","webpack:///./src/LinkEditorOptions.js","webpack:///./node_modules/@neos-project/neos-ui-extensibility/src/shims/vendor/react/index.js","webpack:///./node_modules/@neos-project/neos-ui-extensibility/src/shims/vendor/prop-types/index.js","webpack:///./node_modules/@neos-project/neos-ui-extensibility/src/shims/vendor/react-redux/index.js","webpack:///./node_modules/@neos-project/neos-ui-extensibility/src/shims/neosProjectPackages/react-ui-components/index.js","webpack:///./node_modules/@neos-project/neos-ui-extensibility/src/shims/neosProjectPackages/neos-ui-ckeditor5-bindings/index.js","webpack:///./node_modules/@neos-project/neos-ui-extensibility/src/shims/neosProjectPackages/neos-ui-redux-store/index.js"],"names":["readFromConsumerApi","key","window","Error","module","exports","CkEditor5","plow","require","addPlugin","Plugin","isEnabled","ckEditorConfiguration","options","editorOptions","plugins","config","globalRegistry","get","set","linkEditorPlugin","a","containerRegistry","LinkEditorOptions","createConsumerApi","createReadOnlyValue","value","writable","enumerable","configurable","manifests","exposureMap","api","Object","keys","forEach","defineProperty","version","identifier","bootstrap","push","LinkEditorPlugin","editor","model","schema","extend","allowAttributes","commands","on","evt","args","execute","conversion","for","attributeToElement","view","location","writer","linkElement","createAttributeElement","priority","elementToAttribute","name","attributes","viewElement","getAttribute","category","interactiontype","add","LinkAttributeCommand","RemoveAttributeCommand","attributeKey","doc","document","selection","checkAttributeInSelection","toggleMode","undefined","change","rangesToUnset","isCollapsed","getFirstPosition","getRanges","range","removeAttribute","position","hasAttribute","linkRange","setAttribute","setSelection","getAttributes","node","createText","insert","Range","createOn","ranges","getValidRanges","Command","findLinkRange","createRange","_findBound","lookBack","textNode","nodeBefore","nodeAfter","lastNode","previousSibling","nextSibling","createPositionAt","objectToMap","obj","map","Map","_findRange","categoryOptions","group","label","locationOptions","formattingUnderCursor","selectors","UI","ContentCanvas","state","loading","error","fetchCache","fetchOptions","fetch","credentials","then","response","json","values","setState","catch","reason","console","props","linkingOptions","flexGrow","padding","getInteractiontype","getCategory","getLocation","PureComponent","propTypes","PropTypes","object","React","reactRedux","ReactUiComponents","CkEditorApi","NeosUiReduxStore"],"mappings":"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","file":"Plugin.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap b3feb6db7a06b4cdeb91","export default function readFromConsumerApi(key) {\n    return (...args) => {\n        if (window['@Neos:HostPluginAPI'] && window['@Neos:HostPluginAPI'][`@${key}`]) {\n            return window['@Neos:HostPluginAPI'][`@${key}`](...args);\n        }\n\n        throw new Error(`You are trying to read from a consumer api that hasn't been initialized yet!`);\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/@neos-project/neos-ui-extensibility/src/readFromConsumerApi.js","import readFromConsumerApi from '../../../readFromConsumerApi';\n\nmodule.exports = readFromConsumerApi('vendor')().CkEditor5;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/@neos-project/neos-ui-extensibility/src/shims/vendor/ckeditor5-exports/index.js","import readFromConsumerApi from '../../../readFromConsumerApi';\n\nmodule.exports = readFromConsumerApi('vendor')().plow;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/@neos-project/neos-ui-extensibility/src/shims/vendor/plow-js/index.js","require(\"./manifest\");\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import manifest from \"@neos-project/neos-ui-extensibility\";\nimport linkEditorPlugin from \"./linkEditorPlugin\";\nimport LinkEditorOptions from \"./LinkEditorOptions\";\nimport {$add, $get} from \"plow-js\";\n\nconst addPlugin = (Plugin, isEnabled) => (ckEditorConfiguration, options) => {\n    if (!isEnabled || isEnabled(options.editorOptions, options)) {\n        ckEditorConfiguration.plugins = ckEditorConfiguration.plugins || [];\n        return $add(\"plugins\", Plugin, ckEditorConfiguration);\n    }\n    return ckEditorConfiguration;\n};\n\nmanifest(\"DIU.Neos.LinkEditor\", {}, globalRegistry => {\n    const config = globalRegistry.get(\"ckEditor5\").get(\"config\");\n    config.set(\n        \"linkEditor\",\n        addPlugin(linkEditorPlugin, a => $get(\"linking.linkEditor\", a))\n    );\n\n    const containerRegistry = globalRegistry.get(\"containers\");\n\n    containerRegistry.set(\n        \"LinkInput/OptionsPanel/LinkEditorOptions\",\n        LinkEditorOptions\n    );\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/manifest.js","import createConsumerApi from './createConsumerApi';\nimport readFromConsumerApi from './readFromConsumerApi';\n\nexport default readFromConsumerApi('manifest');\n\nexport {\n    createConsumerApi\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/@neos-project/neos-ui-extensibility/src/index.js","import {version} from '../package.json';\nimport createManifestFunction from './manifest';\n\nconst createReadOnlyValue = value => ({\n    value,\n    writable: false,\n    enumerable: false,\n    configurable: true\n});\n\nexport default function createConsumerApi(manifests, exposureMap) {\n    const api = {};\n\n    Object.keys(exposureMap).forEach(key => {\n        Object.defineProperty(api, key, createReadOnlyValue(exposureMap[key]));\n    });\n\n    Object.defineProperty(api, '@manifest', createReadOnlyValue(\n        createManifestFunction(manifests)\n    ));\n\n    Object.defineProperty(window, '@Neos:HostPluginAPI', createReadOnlyValue(api));\n    Object.defineProperty(window['@Neos:HostPluginAPI'], 'VERSION', createReadOnlyValue(version));\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/@neos-project/neos-ui-extensibility/src/createConsumerApi.js","module.exports = {\"name\":\"@neos-project/neos-ui-extensibility\",\"version\":\"1.4.1\",\"description\":\"Extensibility mechanisms for the Neos CMS UI\",\"main\":\"./src/index.js\",\"scripts\":{\"prebuild\":\"check-dependencies && yarn clean\",\"test\":\"yarn jest -- -w 2 --coverage\",\"test:watch\":\"yarn jest -- --watch\",\"build\":\"exit 0\",\"build:watch\":\"exit 0\",\"clean\":\"rimraf ./lib ./dist\",\"lint\":\"eslint src\",\"jest\":\"NODE_ENV=test jest\"},\"devDependencies\":{\"@neos-project/babel-preset-neos-ui\":\"1.4.1\",\"@neos-project/jest-preset-neos-ui\":\"1.4.1\"},\"dependencies\":{\"@neos-project/build-essentials\":\"1.4.1\",\"@neos-project/positional-array-sorter\":\"1.4.1\",\"babel-core\":\"^6.13.2\",\"babel-eslint\":\"^7.1.1\",\"babel-loader\":\"^7.1.2\",\"babel-plugin-transform-decorators-legacy\":\"^1.3.4\",\"babel-plugin-transform-object-rest-spread\":\"^6.20.1\",\"babel-plugin-webpack-alias\":\"^2.1.1\",\"babel-preset-es2015\":\"^6.13.2\",\"babel-preset-react\":\"^6.3.13\",\"babel-preset-stage-0\":\"^6.3.13\",\"chalk\":\"^1.1.3\",\"css-loader\":\"^0.28.4\",\"file-loader\":\"^1.1.5\",\"json-loader\":\"^0.5.4\",\"postcss-loader\":\"^2.0.10\",\"react-dev-utils\":\"^0.5.0\",\"style-loader\":\"^0.21.0\"},\"bin\":{\"neos-react-scripts\":\"./bin/neos-react-scripts.js\"},\"jest\":{\"preset\":\"@neos-project/jest-preset-neos-ui\"}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@neos-project/neos-ui-extensibility/package.json\n// module id = 7\n// module chunks = 0","export default manifests => {\n    return function (identifier, options, bootstrap) {\n        manifests.push({\n            [identifier]: {\n                options,\n                bootstrap\n            }\n        });\n    };\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/@neos-project/neos-ui-extensibility/src/manifest.js","import {Plugin} from \"ckeditor5-exports\";\nimport LinkAttributeCommand from \"./linkAttributeCommand\";\nimport RemoveAttributeCommand from \"./removeAttributeCommand\";\n\nexport default class LinkEditorPlugin extends Plugin {\n    static get pluginName() {\n        return \"LinkEditor\";\n    }\n\n    init() {\n        const editor = this.editor;\n        editor.model.schema.extend(\"$text\", {\n            allowAttributes: [\"location\", \"category\", \"interactiontype\"]\n        });\n\n        this.editor.commands.get(\"unlink\").on(\"execute\", ( evt, args ) => {\n            editor.execute(\"removeCategory\");\n            editor.execute(\"removeLocation\");\n            editor.execute(\"removeInteractiontype\");\n        });\n\n        // location\n        editor.conversion.for(\"downcast\").attributeToElement({\n            model: \"location\",\n            view: (location, writer) => {\n                const linkElement = writer.createAttributeElement(\n                    \"a\",\n                    location ? {\"data-location\": location} : {},\n                    {priority: 5}\n                );\n                return linkElement;\n            }\n        });\n        editor.conversion.for(\"upcast\").elementToAttribute({\n            view: {\n                name: \"a\",\n                attributes: {\n                    \"data-location\": true\n                }\n            },\n            model: {\n                key: \"location\",\n                value: viewElement => viewElement.getAttribute(\"data-location\")\n            }\n        });\n\n        // category\n        editor.conversion.for(\"downcast\").attributeToElement({\n            model: \"category\",\n            view: (category, writer) => {\n                const linkElement = writer.createAttributeElement(\n                    \"a\",\n                    category ? {\"data-category\": category} : {},\n                    {priority: 5}\n                );\n                return linkElement;\n            }\n        });\n        editor.conversion.for(\"upcast\").elementToAttribute({\n            view: {\n                name: \"a\",\n                attributes: {\n                    \"data-category\": true\n                }\n            },\n            model: {\n                key: \"category\",\n                value: viewElement => viewElement.getAttribute(\"data-category\")\n            }\n        });\n\n        // interactiontype\n        editor.conversion.for(\"downcast\").attributeToElement({\n            model: \"interactiontype\",\n            view: (interactiontype, writer) => {\n                const linkElement = writer.createAttributeElement(\n                    \"a\",\n                    interactiontype ? {\"data-interactiontype\": interactiontype, \"class\": \"js_eventTracking\"} : {},\n                    {priority: 5}\n                );\n                return linkElement;\n            }\n        });\n        editor.conversion.for(\"upcast\").elementToAttribute({\n            view: {\n                name: \"a\",\n                attributes: {\n                    \"data-interactiontype\": true\n                }\n            },\n            model: {\n                key: \"interactiontype\",\n                value: viewElement =>\n                    viewElement.getAttribute(\"data-interactiontype\")\n            }\n        });\n\n        editor.commands.add(\n            \"location\",\n            new LinkAttributeCommand(this.editor, \"location\")\n        );\n        editor.commands.add(\n            \"category\",\n            new LinkAttributeCommand(this.editor, \"category\")\n        );\n        editor.commands.add(\n            \"interactiontype\",\n            new LinkAttributeCommand(this.editor, \"interactiontype\")\n        );\n        editor.commands.add(\n            \"removeLocation\",\n            new RemoveAttributeCommand(this.editor, \"location\")\n        );\n        editor.commands.add(\n            \"removeCategory\",\n            new RemoveAttributeCommand(this.editor, \"category\")\n        );\n        editor.commands.add(\n            \"removeInteractiontype\",\n            new RemoveAttributeCommand(this.editor, \"interactiontype\")\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/linkEditorPlugin.js","import {Command} from \"ckeditor5-exports\";\nimport findLinkRange from \"./_findLinkRange\";\nimport toMap from \"./_toMap\";\n\nexport default class LinkAttributeCommand extends Command {\n    constructor(editor, attributeKey) {\n        super(editor);\n\n        this.attributeKey = attributeKey;\n    }\n\n    refresh() {\n        const model = this.editor.model;\n        const doc = model.document;\n\n        this.value = doc.selection.getAttribute(this.attributeKey);\n        this.isEnabled = model.schema.checkAttributeInSelection(\n            doc.selection,\n            this.attributeKey\n        );\n    }\n\n    execute(value) {\n        const model = this.editor.model;\n        const doc = model.document;\n        const selection = doc.selection;\n        const toggleMode = value === undefined;\n        value = toggleMode ? !this.value : value;\n\n        model.change(writer => {\n            if (toggleMode && !value) {\n                const rangesToUnset = selection.isCollapsed\n                    ? [\n                        findLinkRange(\n                            selection.getFirstPosition(),\n                            selection.getAttribute(\"linkHref\"),\n                            model\n                        )\n                    ]\n                    : selection.getRanges();\n                for (const range of rangesToUnset) {\n                    writer.removeAttribute(this.attributeKey, range);\n                }\n            } else if (selection.isCollapsed) {\n                const position = selection.getFirstPosition();\n\n                if (selection.hasAttribute(\"linkHref\")) {\n                    const linkRange = findLinkRange(\n                        selection.getFirstPosition(),\n                        selection.getAttribute(\"linkHref\"),\n                        model\n                    );\n                    if (value === false) {\n                        writer.removeAttribute(this.attributeKey, linkRange);\n                    } else {\n                        writer.setAttribute(\n                            this.attributeKey,\n                            value,\n                            linkRange\n                        );\n                        writer.setSelection(linkRange);\n                    }\n                } else if (value !== \"\") {\n                    const attributes = toMap(selection.getAttributes());\n                    attributes.set(this.attributeKey, value);\n                    const node = writer.createText(value, attributes);\n                    writer.insert(node, position);\n                    writer.setSelection(Range.createOn(node));\n                }\n            } else {\n                const ranges = model.schema.getValidRanges(\n                    selection.getRanges(),\n                    this.attributeKey\n                );\n\n                for (const range of ranges) {\n                    if (value === false) {\n                        writer.removeAttribute(this.attributeKey, range);\n                    } else {\n                        writer.setAttribute(this.attributeKey, value, range);\n                    }\n                }\n            }\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/linkAttributeCommand.js","export default function findLinkRange(position, value, model) {\n    return model.createRange(\n        _findBound(position, value, true, model),\n        _findBound(position, value, false, model)\n    );\n}\n\nfunction _findBound(position, value, lookBack, model) {\n    let node =\n        position.textNode ||\n        (lookBack ? position.nodeBefore : position.nodeAfter);\n\n    let lastNode = null;\n\n    while (node && node.getAttribute(\"linkHref\") == value) {\n        lastNode = node;\n        node = lookBack ? node.previousSibling : node.nextSibling;\n    }\n\n    return lastNode\n        ? model.createPositionAt(lastNode, lookBack ? \"before\" : \"after\")\n        : position;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/_findLinkRange.js","export default function objectToMap(obj) {\n    const map = new Map();\n\n    for (const key in obj) {\n        map.set(key, obj[key]);\n    }\n\n    return map;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/_toMap.js","import {Command} from \"ckeditor5-exports\";\n\nfunction _findRange(position, value, model, attributeKey) {\n    return model.createRange(\n        _findBound(position, value, true, model, attributeKey),\n        _findBound(position, value, false, model, attributeKey)\n    );\n}\n\nfunction _findBound(position, value, lookBack, model, attributeKey) {\n    let node =\n        position.textNode ||\n        (lookBack ? position.nodeBefore : position.nodeAfter);\n\n    let lastNode = null;\n\n    while (node && node.getAttribute(attributeKey) == value) {\n        lastNode = node;\n        node = lookBack ? node.previousSibling : node.nextSibling;\n    }\n\n    return lastNode\n        ? model.createPositionAt(lastNode, lookBack ? \"before\" : \"after\")\n        : position;\n}\n\nexport default class RemoveAttributeCommand extends Command {\n    constructor(editor, attributeKey) {\n        super(editor);\n\n        this.attributeKey = attributeKey;\n    }\n\n    refresh() {\n        const model = this.editor.model;\n        const doc = model.document;\n\n        this.value = doc.selection.getAttribute(this.attributeKey);\n        this.isEnabled = model.schema.checkAttributeInSelection(\n            doc.selection,\n            this.attributeKey\n        );\n    }\n\n    execute(value) {\n        const model = this.editor.model;\n        const doc = model.document;\n        const selection = doc.selection;\n        const toggleMode = value === undefined;\n        value = toggleMode ? !this.value : value;\n\n        model.change(writer => {\n            const rangesToUnset = selection.isCollapsed\n                ? [\n                    _findRange(\n                        selection.getFirstPosition(),\n                        selection.getAttribute(this.attributeKey),\n                        model,\n                        this.attributeKey\n                    )\n                ]\n                : selection.getRanges();\n            for (const range of rangesToUnset) {\n                writer.removeAttribute(this.attributeKey, range);\n            }\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/removeAttributeCommand.js","import React, {PureComponent} from \"react\";\nimport PropTypes from \"prop-types\";\nimport {connect} from \"react-redux\";\nimport {$get, $transform} from \"plow-js\";\n\nimport {SelectBox} from \"@neos-project/react-ui-components\";\nimport {executeCommand} from \"@neos-project/neos-ui-ckeditor5-bindings\";\n\nimport {selectors} from \"@neos-project/neos-ui-redux-store\";\n\nconst categoryOptions = [\n    {group: 'foo', label: 'bar'},\n    {group: 'baz', label: 'baz'},\n];\n\nconst locationOptions = [\n    {group: 'foo', label: 'bar'},\n    {group: 'baz', label: 'baz'},\n];\n\n@connect(\n    $transform({\n        formattingUnderCursor: selectors.UI.ContentCanvas.formattingUnderCursor\n    })\n)\nexport default class LinkEditorOptions extends PureComponent {\n    static propTypes = {\n        formattingUnderCursor: PropTypes.object,\n        linkingOptions: PropTypes.object\n    };\n\n    state = {\n        options: [],\n        loading: false,\n        error: false\n    };\n\n    fetchCache = null;\n\n    componentDidMount() {\n        this.setState({ loading: true, error: false });\n        this.fetchOptions();\n    }\n\n    getLocation() {\n        return $get(\"location\", this.props.formattingUnderCursor) || \"\";\n    }\n    getCategory() {\n        return $get(\"category\", this.props.formattingUnderCursor) || \"\";\n    }\n    getInteractiontype() {\n        return $get(\"interactiontype\", this.props.formattingUnderCursor) || \"\";\n    }\n\n    fetchOptions = () => {\n        if (!this.fetchCache) {\n            this.fetchCache = fetch(\n                // REPLACE WITH REAL URL\n                \"/_Resources/Static/test.json\",\n                { credentials: \"include\" }\n            ).then((response) => response.json())\n            .then(response => Object.values(response));\n        }\n        this.fetchCache\n            .then((options) =>\n                this.setState({ options, loading: false, error: false })\n            )\n            .catch((reason) => {\n                console.error(reason);\n                // Clear cache on error\n                this.fetchCache = undefined;\n                this.setState({ error: true, loading: false });\n            });\n      };\n\n    render() {\n        return $get('linkEditor', this.props.linkingOptions) ? (\n            <div style={{flexGrow: 1}}>\n                <div style={{padding: 8}}>\n                    Interaction Type\n                    <SelectBox\n                        options={this.state.options}\n                        optionValueField=\"label\"\n                        value={this.getInteractiontype()}\n                        onValueChange={value => {\n                            executeCommand(\"interactiontype\", value, false);\n                        }}\n                        placeholder=\"Choose interactiontype\"\n                        allowEmpty={true}\n                        displayLoadingIndicator={this.state.loading}\n                    />\n                </div>\n                <div style={{padding: 8}}>\n                    Category\n                    <SelectBox\n                        options={categoryOptions}\n                        optionValueField=\"label\"\n                        value={this.getCategory()}\n                        onValueChange={value => {\n                            executeCommand(\"category\", value, false);\n                        }}\n                        placeholder=\"Choose category\"\n                        allowEmpty={true}\n                    />\n                </div>\n                <div style={{padding: 8}}>\n                    Location\n                    <SelectBox\n                        options={locationOptions}\n                        optionValueField=\"label\"\n                        value={this.getLocation()}\n                        onValueChange={value => {\n                            executeCommand(\"location\", value, false);\n                        }}\n                        placeholder=\"Choose location\"\n                        allowEmpty={true}\n                    />\n                </div>\n            </div>\n        ) : null;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/LinkEditorOptions.js","import readFromConsumerApi from '../../../readFromConsumerApi';\n\nmodule.exports = readFromConsumerApi('vendor')().React;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/@neos-project/neos-ui-extensibility/src/shims/vendor/react/index.js","import readFromConsumerApi from '../../../readFromConsumerApi';\n\nmodule.exports = readFromConsumerApi('vendor')().PropTypes;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/@neos-project/neos-ui-extensibility/src/shims/vendor/prop-types/index.js","import readFromConsumerApi from '../../../readFromConsumerApi';\n\nmodule.exports = readFromConsumerApi('vendor')().reactRedux;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/@neos-project/neos-ui-extensibility/src/shims/vendor/react-redux/index.js","import readFromConsumerApi from '../../../readFromConsumerApi';\n\nmodule.exports = readFromConsumerApi('NeosProjectPackages')().ReactUiComponents;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/@neos-project/neos-ui-extensibility/src/shims/neosProjectPackages/react-ui-components/index.js","import readFromConsumerApi from '../../../readFromConsumerApi';\n\nmodule.exports = readFromConsumerApi('NeosProjectPackages')().CkEditorApi;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/@neos-project/neos-ui-extensibility/src/shims/neosProjectPackages/neos-ui-ckeditor5-bindings/index.js","import readFromConsumerApi from '../../../readFromConsumerApi';\n\nmodule.exports = readFromConsumerApi('NeosProjectPackages')().NeosUiReduxStore;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/@neos-project/neos-ui-extensibility/src/shims/neosProjectPackages/neos-ui-redux-store/index.js"],"sourceRoot":""}